library(usethis)
use_directory("R")
use_directory("R/preparation")
use_directory("R/processing")
use_directory("R/modeling")
use_directory("test")
use_directory("data/raw")
use_directory("data/processed")
use_directory("reports/img")
use_directory("reports/css")
read.csv("R/preparation")
read.csv("R/preparation")
read.csv("R/preparation/Base de fallecidos en sitio 2018_Junio2019")
read.csv("R/preparation/Base de fallecidos en sitio 2018_Junio2019.csv")
accidentes<-read.csv("R/preparation/Base de fallecidos en sitio 2018_Junio2019.csv")
?read.csv
accidentes<-read.csv("R/preparation/Base de fallecidos en sitio 2018_Junio2019.csv",encoding = "unknown")
accidentes<-read.csv("R/preparation/Base de fallecidos en sitio 2018_Junio2019.csv",encoding = "utf-8")
accidentes<-read.csv("R/preparation/Base de fallecidos en sitio 2018_Junio2019.csv",encoding = "UTF-8")
View(accidentes)
accidentes$Edad<-as.integer(accidentes$Edad)
hist(edad)
hist(accidentes$edad)
hist(accidentes$Edad)
addmargins(table(accidentes$Edad, useNA="always"))
View(accidentes)
accidentes<-read.csv("R/preparation/Base de fallecidos en sitio 2018_Junio2019.csv",encoding = "UTF-8")
accidentes$Edad2<-as.integer(accidentes$Edad)
View(accidentes)
addmargins(table(accidentes$Edad, useNA="always"))
addmargins(table(accidentes$Edad2, useNA="always"))
accidentes$Edad2<-as.numeric(accidentes$Edad)
addmargins(table(accidentes$Edad2, useNA="always"))
accidentes$Edad2<-as.integer(as.character(accidentes$Edad))
addmargins(table(accidentes$Edad2, useNA="always"))
hist(accidentes$Edad2)
summary(accidentes)
addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año,useNA="always"))
addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
tipo=data.frame(addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año)))
View(tipo)
tipo=as.data.frame(addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año)))
View(tipo)
tipo=as.data.frame(table(accidentes$Tipo.de.accidente, accidentes$Año))
View(tipo)
tipo[var2=1,"Freq"]
tipo[tipo$var2=1,"Freq"]
tipo[tipo$var2==1,"Freq"]
tipo[tipo$var2=="2018","Freq"]
str(yipo)
str(tipo)
tipo[tipo$Var2=="2018","Freq"]
tipo[tipo$Var2=="2018",c("Freq","Var1")]
suppressWarnings(suppressMessages(library(htmlTable)))
htmlTable(tipo,rnames=F,caption="Cuadro 3. Costa Rica: Estimaciones usadas de parámetros e indices estacionales para modelo de Holt Winters Multiplicativo
Periodo 2001-2013",tfoot="Fuente: Elaboración propia con datos del Poder Judicial de Costa Rica",
css.caption = "font-weight: 900")
?save
save(accidentes,file = "R/preparation/accidentes.RData")
save(accidentes,file = "data/raw/accidentes.RData")
load(file = "R/preparation/accidentes.RData")
load(file = "R/preparation/accidentes.RData")
load(file = "R/preparation/accidentes.RData")
load(file = "R/preparation/accidentes.RData")
load(file = "R/preparation/accidentes.RData")
load(file = "C:/Users/Deiby S/Desktop/Programacion avanzada R/Clase 3/Proyecto_Tarea_Deiby/R/preparation")
load(file = "C:/Users/Deiby S/Desktop/Programacion avanzada R/Clase 3/Proyecto_Tarea_Deiby/R/preparation/accidentes.RData")
tabla1=addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
tabla1
str(tabla1)
data.frame(tabla1)
as.data.frame(tabla1)
library(purrr)
flatten(tabla1)
flatten_df(tabla1)
()
rlang::last_error()
View(tabla1)
tabla1
View(tabla1)
colnames(tabla1)
colnames(tabla1)[3]
atributes(tabla1)
attributes(tabla1)
tabla1$dimnames[[1]]
as.matrix(tabla1)
xx=as.matrix(tabla1)
View(xx)
ftable(tabla1)
z=ftable(tabla1)
str(z)
z[1]
z[[1]]
z=ftable(tabla1,col.vars = c("2018", "2019","Total"))
?ftable
z=ftable(tabla1,col.vars ))
z=ftable(tabla1,col.vars )
z=ftable(tabla1,col.vars=c(1,1,3) )
z=ftable(tabla1)
z
z$1
z$
1
attr(z)
attributes(z)
attr(z,$row.vars[[1]])
attr(z,"$row.vars[[1]]")
attr(z,"row.vars[[1]]")
attr(z,"row.vars")
attr(z,"row.vars")[10]
attr(z,"row.vars")[[10]]
attr(z,"row.vars[]")[10]
attr(z,"row.vars[]")
attr(z,"row.vars[1]")
attr(z,"row.vars")
pp=attr(z,"row.vars")
View(pp)
pp[1]
pp[[1]]
?attr
pp=attr(z,"row.vars")[[1]]
pp=attr(z,"row.vars")[[1]][10]
tabla1=addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
colnames(tabla1)[3]<-"Total"
attr(z,"row.vars")[[1]][10]<-"Total"
attr(tabla1,"row.vars")[[1]][10]<-"Total"
tabla1
tabla1.1=ftable(tabla1)
attr(tabla1.1,"row.vars")[[1]][10]<-"Total"
tabla1.1
htmlTable(tabla1.1,rnames=attr(tabla1.1,"row.vars")[[1]],caption="Cuadro 3. Costa Rica: Estimaciones usadas de parámetros e indices estacionales para modelo de Holt Winters Multiplicativo
Periodo 2001-2013",tfoot="Fuente: Elaboración propia con datos del Poder Judicial de Costa Rica",
css.caption = "font-weight: 900")
?htmlTable
htmlTable(tabla1.1,header=c(1,2,3,4),rnames=attr(tabla1.1,"row.vars")[[1]],caption=" Cuadro 3. Costa Rica: Estimaciones usadas de parámetros e indices estacionales para modelo de Holt Winters Multiplicativo
Periodo 2001-2013",tfoot="Fuente: Elaboración propia con datos del Poder Judicial de Costa Rica",
css.caption = "font-weight: 900")
attributes(tabla1.1)
accidentes$Tipo.de.accidente
accidentes[,3]
cuadro<-function(Num.variable=NA_integer_,Nombre.variable=NA_character_){
tabla1=addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
colnames(tabla1)[,i]<-"Total"
tabla1.1=ftable(tabla1)
attr(tabla1.1,"row.vars")[[1]][10]<-"Total"
htmlTable(tabla1.1,rowlabel=Nombre.variable,header=attr(tabla1.1,"col.vars")[[1]],rnames=attr(tabla1.1,"row.vars")[[1]],caption=" Cuadro 1. Costa Rica: Número de fallecidos en sitio por accidentes de tránsito en Costa Rica. Periodo 2018-2019",tfoot="Fuente: Cosevi. Área de Investigación y Estadística, elaboración propia con base en registros de la DGPT.",
css.caption = "font-weight: 900")}
cuadro(3,"Tipo de accidente")
cuadro<-function(Num.variable=NA_integer_,Nombre.variable=NA_character_){
tabla1=addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
colnames(tabla1)[,Num.variable]<-"Total"
tabla1.1=ftable(tabla1)
attr(tabla1.1,"row.vars")[[1]][10]<-"Total"
htmlTable(tabla1.1,rowlabel=Nombre.variable,header=attr(tabla1.1,"col.vars")[[1]],rnames=attr(tabla1.1,"row.vars")[[1]],caption=" Cuadro 1. Costa Rica: Número de fallecidos en sitio por accidentes de tránsito en Costa Rica. Periodo 2018-2019",tfoot="Fuente: Cosevi. Área de Investigación y Estadística, elaboración propia con base en registros de la DGPT.",
css.caption = "font-weight: 900")}
cuadro(3,"Tipo de accidente")
cuadro<-function(Num.variable=NA_integer_,Nombre.variable=NA_character_){
tabla1=addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
colnames(tabla1)[,Num.variable]<-"Total"
tabla1.1=ftable(tabla1)
attr(tabla1.1,"row.vars")[[1]][10]<-"Total"
htmlTable(tabla1.1,rowlabel=Nombre.variable,header=attr(tabla1.1,"col.vars")[[1]],rnames=attr(tabla1.1,"row.vars")[[1]],caption=" Cuadro 1. Costa Rica: Número de fallecidos en sitio por accidentes de tránsito en Costa Rica. Periodo 2018-2019",tfoot="Fuente: Cosevi. Área de Investigación y Estadística, elaboración propia con base en registros de la DGPT.",
css.caption = "font-weight: 900")}
cuadro(3,"Tipo de accidente")
cuadro(3L,"Tipo de accidente")
cuadro<-function(Num.variable=NA,Nombre.variable=NA_character_){
tabla1=addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
colnames(tabla1)[,Num.variable]<-"Total"
tabla1.1=ftable(tabla1)
attr(tabla1.1,"row.vars")[[1]][10]<-"Total"
htmlTable(tabla1.1,rowlabel=Nombre.variable,header=attr(tabla1.1,"col.vars")[[1]],rnames=attr(tabla1.1,"row.vars")[[1]],caption=" Cuadro 1. Costa Rica: Número de fallecidos en sitio por accidentes de tránsito en Costa Rica. Periodo 2018-2019",tfoot="Fuente: Cosevi. Área de Investigación y Estadística, elaboración propia con base en registros de la DGPT.",
css.caption = "font-weight: 900")}
cuadro(3,"Tipo de accidente")
cuadro<-function(Num.variable=NA,Nombre.variable=NA_character_){
tabla1=addmargins(table(accidentes[,Num.variable], accidentes$Año))
colnames(tabla1)[,Num.variable]<-"Total"
tabla1.1=ftable(tabla1)
attr(tabla1.1,"row.vars")[[1]][10]<-"Total"
htmlTable(tabla1.1,rowlabel=Nombre.variable,header=attr(tabla1.1,"col.vars")[[1]],rnames=attr(tabla1.1,"row.vars")[[1]],caption=" Cuadro 1. Costa Rica: Número de fallecidos en sitio por accidentes de tránsito en Costa Rica. Periodo 2018-2019",tfoot="Fuente: Cosevi. Área de Investigación y Estadística, elaboración propia con base en registros de la DGPT.",
css.caption = "font-weight: 900")}
cuadro(3,"Tipo de accidente")
accidentes[,5]
colnames(accidentes[,5])
names(accidentes[,5])
colnames(accidentes)[5]
gsub(".", " ", colnames(accidentes)[3])
colnames(accidentes)[3]
gsub(., , colnames(accidentes)[3])
gsub(".", " ", (colnames(accidentes)[3])
)
gsub("e", "","Tipo.de.accidente")
gsub(".", " ","Tipo.de.accidente")
gsub(".", "","Tipo.de.accidente")
gsub(" . ", "","Tipo.de.accidente")
gsub(" ", ".","Tipo.de.accidente")
gsub(" ", "-","Tipo.de.accidente")
gsub(".", "-","Tipo.de.accidente")
var="Cantón"
tabla1=addmargins(table(accidentes[,5], accidentes$Año))
colnames(tabla1)[5]<-"Total"
tabla1.1=ftable(tabla1)
attr(tabla1.1,"row.vars")[[1]][10]<-"Total"
htmlTable(tabla1.1,rowlabel=var,header=attr(tabla1.1,"col.vars")[[1]],rnames=attr(tabla1.1,"row.vars")[[1]],caption=paste(" Cuadro 2. Costa Rica: Número de fallecidos en sitio según",var,"por año en accidentes de tránsito en Costa Rica. Periodo 2018-2019"),tfoot="Fuente: Cosevi. Área de Investigación y Estadística, elaboración propia con base en registros de la DGPT.",
css.caption = "font-weight: 900")
var="Cantón"
tabla1=addmargins(table(accidentes[,5], accidentes$Año))
colnames(tabla1)[5]<-"Total"
tabla1=addmargins(table(accidentes[,5], accidentes$Año))
colnames(tabla1)[5]<-"Total"
tabla1.1=ftable(tabla1)
View(tabla1)
tabla1=addmargins(table(accidentes$Tipo.de.accidente, accidentes$Año))
dim(tabla1)
dim(tabla1)[1]
install.packages("packrat")
library(packrat)
init()
packrat::init(options = list(auto.snapshot = TRUE))
